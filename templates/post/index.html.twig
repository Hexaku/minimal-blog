{% extends 'base.html.twig' %}

{% block title %}Minimal - Posts{% endblock %}

{% block body %}
<body class="bg-white font-sans leading-normal tracking-normal">

	<!--Nav-->
    {% include '_header.html.twig' %}
    <!--Nav-->
	
	<!--Title-->
	<div class="text-center pt-16 md:pt-32 pb-16">
		<h1 class="font-bold break-normal text-3xl md:text-5xl">My experiences, my adventures... all is in my posts.</h1>
	</div>

    	<div class="bg-200">
	
		<div class="container w-full max-w-6xl mx-auto px-2 py-8">
			<div class="flex flex-wrap -mx-2">
				{% if posts %}
                {% for key, post in posts %}
				<div class="w-full md:w-1/3 px-2 pb-12">
					<div class="h-full bg-white rounded overflow-hidden shadow-md hover:shadow-lg relative smooth">
						<a href="{{ path('post_show', {'slug':  post.slug}) }}" class="no-underline hover:no-underline">
							<img src="https://source.unsplash.com/collection/{{ key }}/400x200" class="h-48 w-full rounded-t shadow-lg">
							<div class="p-6 h-auto md:h-48">	
								<p class="text-gray-600 text-xs md:text-sm">{{ post.category.name }}</p>
								<div class="font-bold text-xl text-gray-900">{{ post.title }}</div>
								<p class="text-gray-800 font-serif text-base mb-5">
									{{ post.synopsis }} 
								</p>
							</div>
							<div class="flex items-center justify-between inset-x-0 bottom-0 p-6">
								<img class="w-8 h-8 rounded-full mr-4" src="http://i.pravatar.cc/300" alt="Avatar of Author">
								<p class="text-gray-600 text-xs md:text-sm">{{ post.createdAt|date("M d, Y") }}</p>
							</div>
						</a>
					</div>
				</div>
                {% endfor %}
				{% else %}
                <div class="pb-24 pt-6">
		        	<h2 class="font-normal break-normal text-3xl md:text-2xl">Oh oh looks like there is no posts yet. Come back later !</h2>
                </div>
				{% endif %}
			</div>
		</div>

		<!-- This example requires Tailwind CSS v2.0+ -->
<div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 pb-16">
  <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-center flex-col">
    <div class="pb-6">
      <p class="text-md text-gray-700"> Showing post <span class="font-semibold">{{ firstResult }}</span> to <span class="font-semibold">{{ lastResult }}</span> of <span class="font-semibold">{{ totalPosts }} posts</span></p>
    </div>
    <div>
      <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
        <a {% if currentPageNumber > 1 %} href="{{ path('post_list', {'pageNumber': currentPageNumber - 1}) }}" {% endif %} class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 {% if currentPageNumber == 1 %} bg-gray-200 cursor-auto {% else %} bg-white hover:bg-gray-50 {% endif %}">
          <span class="sr-only">Previous</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg>
        </a>
    {% for pageNumber in range(1, totalPages) %}
    		<a href="{{ path('post_list', {'pageNumber': pageNumber}) }}" class="{% if pageNumber == currentPageNumber %} z-10 bg-green-100 border-green-500 text-black-600 {% else %} bg-white border-gray-300 text-gray-500 hover:bg-gray-50 {% endif %}relative inline-flex items-center px-4 py-2 border text-sm font-medium">{{ pageNumber }}</a>
    {% endfor %}
        <a {% if currentPageNumber < totalPages %} href="{{ path('post_list', {'pageNumber': currentPageNumber + 1}) }}" {% endif %} class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm font-medium text-gray-500 {% if currentPageNumber == totalPages %} bg-gray-200 cursor-auto {% else %} bg-white hover:bg-gray-50 {% endif %}">
          <span class="sr-only">Next</span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
          </svg>
        </a>
      </nav>
    </div>
  </div>
</div>


	</div>

    <!--Footer-->
    {% include '_footer.html.twig' %}
    <!--/Footer-->

</body>
{% endblock %}